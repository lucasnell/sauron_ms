\section*{Appendix B: Two-trait equilibrium solutions}

\renewcommand{\thefigure}{B\arabic{figure}}
\renewcommand{\theequation}{B\arabic{equation}}
\renewcommand{\thetable}{B\arabic{table}}
\setcounter{equation}{0}
\setcounter{figure}{0}
\setcounter{table}{0}


For these solutions, we will no longer use matrix notation.
Also, since all traits have the same costs, benefits, and
non-additive effects, solutions for trait 1 and 2 are the same.
Only solutions for trait 1 are presented.
We use a hat to distinguish equilibrium values
($\hat{Z}$ for parameter $Z$).
Lastly, because $\mathbf{C}$ is symmetrical, only has 2 rows and columns, and
differs only on the off-diagonals, there is only one $\eta$ value.


\subsection*{Trait values}

The two traits for species $i$ change as follows:

\begin{equation*}
\begin{split}
    v_{i1,t+1} &= v_{i1,t} + 2 \; \sigma^2
    \left[
        \alpha_0 \; \Omega_{i,t} \;
            \textrm{e}^{-v_{i1,t}^2 - v_{i2,t}^2} \; v_{i1,t}
        - f \; ( v_{i1,t} + \eta \; v_{i2,t} )
    \right] \\
    v_{i2,t+1} &= v_{i2,t} + 2 \; \sigma^2
    \left[
        \alpha_0 \; \Omega_{i,t} \;
            \textrm{e}^{-v_{i2,t}^2 - v_{i1,t}^2} \; v_{i2,t}
        - f \; ( v_{i2,t} + \eta \; v_{i1,t} )
    \right] \\
    \Omega_{i,t} &\equiv N_{i,t} +
        \sum_{j \ne i}^{n}{ N_{j,t} \; \textrm{e}^{
                - d_1 v_{j1,t}^2 - d_2 v_{j2,t}^2 } }
    \textrm{.}
\end{split}
\end{equation*}


We'll now drop indices for species and time because we are
focusing on just one species and time point.


At equilibrium (assuming that $\sigma > 0$),

\begin{equation}
\begin{split}
    0 &= \alpha_0 \; \hat{\Omega} \;
            \textrm{e}^{-\hat{v}_{1}^2 - \hat{v}_{2}^2} \; \hat{v}_{1}
        - f \; ( \hat{v}_{1} + \eta \; \hat{v}_{2} ) \\
    0 &=
        \alpha_0 \; \hat{\Omega} \;
            \textrm{e}^{-\hat{v}_{2}^2 - \hat{v}_{1}^2} \; \hat{v}_{2}
        - f \; ( \hat{v}_{2} + \eta \; \hat{v}_{1} )
    \textrm{.}
\end{split}
\label{eq:two-traits-v-eq1}
\end{equation}


\noindent Thus, we have

\begin{equation*}
\begin{split}
    \alpha_0 \; \hat{\Omega} \; \textrm{e}^{-\hat{v}_{1}^2 - \hat{v}_{2}^2} &=
        \frac{ f \; ( \hat{v}_{1} + \eta \; \hat{v}_{2} ) }{ \hat{v}_{1} } \\
    \alpha_0 \; \hat{\Omega} \; \textrm{e}^{-\hat{v}_{1}^2 - \hat{v}_{2}^2} &=
        \frac{ f \; ( \hat{v}_{2} + \eta \; \hat{v}_{1} ) }{ \hat{v}_{2} }
    \textrm{.}
\end{split}
\end{equation*}


\noindent Combining these leads to

\begin{equation*}
\begin{split}
    f \; ( \hat{v}_{1} + \eta \; \hat{v}_{2} ) \; \hat{v}_{2} &=
        f \; ( \hat{v}_{2} + \eta \; \hat{v}_{1} ) \; \hat{v}_{1} \\
    f \hat{v}_{1} \hat{v}_{2} + \eta \hat{v}_{2}^2 &=
        f \hat{v}_{1} \hat{v}_{2} + \eta \hat{v}_{1}^2 \\
    \eta \hat{v}_{2}^2 &= \eta \hat{v}_{1}^2 \\
    \hat{v}_{1} &= \hat{v}_{2}
    \textrm{.}
\end{split}
\end{equation*}

Since all $v$ must be $\ge 0$ (hence no $\pm$ in the equation above),
either $\hat{v}_{1} = \hat{v}_{2}$ or not (when $\eta = 0$).
Plugging in $\hat{v}_{1} = \hat{v}_{2}$ into equation \ref{eq:two-traits-v-eq1}
gives us

\begin{equation*}
\begin{split}
    0 &= \alpha_0 \; \hat{\Omega} \; \textrm{e}^{-2 \; \hat{v}_{1}^2 } \; \hat{v}_{1}
        - f \; ( \hat{v}_{1} + \eta \; \hat{v}_{1} ) \\
    &= \hat{v}_{1} \left[ \alpha_0 \; \hat{\Omega} \; \textrm{e}^{-2 \; \hat{v}_{1}^2 }
        - f \; ( 1 + \eta ) \right]
    \textrm{.}
\end{split}
\end{equation*}

\noindent One solution is $\hat{v}_{1} = 0$, but if $\hat{v}_{1} \ne 0$


\begin{equation}
\begin{split}
    \alpha_0 \; \hat{\Omega} \; \textrm{e}^{-2 \; \hat{v}_{1}^2 } &=
        f \; ( 1 + \eta ) \\
    -2 \; \hat{v}_{1}^2 &=
        \log \left( \frac{ f \; ( 1 + \eta ) }{ \alpha_0 \; \hat{\Omega} } \right) \\
    \hat{v}_{1} &= \sqrt{\frac{1}{2}
        \log \left( \frac{ \alpha_0 \; \hat{\Omega} }{ f \; ( 1 + \eta ) } \right) }
    \textrm{.}
\end{split}
\label{eq:two-traits-v-eq5}
\end{equation}



When $\eta = 0$ and at least one of the two traits $\ne 0$,
traits are constrained by their distance
from the origin: $\sqrt{\hat{v}_{1}^2 + \hat{v}_{2}^2}$.
When $\hat{v}_{1} \ne 0$, this distance is

\begin{equation*}
\begin{split}
    0 &= \alpha_0 \; \hat{\Omega} \;
            \textrm{e}^{-\hat{v}_{1}^2 - \hat{v}_{2}^2} \; \hat{v}_{1}
        - f \; \hat{v}_{1} \\
    0 &= \alpha_0 \; \hat{\Omega} \;
        \textrm{e}^{- ( \hat{v}_{1}^2 + \hat{v}_{2}^2) }
        - f \\
    \log \left( \frac{\alpha_0 \; \hat{\Omega}}{ f } \right) &=
        \hat{v}_{1}^2 + \hat{v}_{2}^2 \\
     \sqrt{ \hat{v}_{1}^2 + \hat{v}_{2}^2 } &=
        \sqrt{ \log \left( \frac{\alpha_0 \; \hat{\Omega}}{ f } \right)}
    \textrm{.}
\end{split}
\end{equation*}

\noindent So the relationship between traits when $\eta = 0$ is

$$
    \hat{v}_{1} =
    \sqrt{
        \log \left( \frac{\alpha_0 \; \hat{\Omega}}{ f } \right) -
        \hat{v}_{2}^2
    }
    \textrm{,}
$$

\noindent when $\hat{v}_{2}^2 \ge \log (\alpha_0 \hat{\Omega} / f)$.

We've shown solutions for when $v_1 = v_2$ and when $\eta = 0$, but
when one trait is zero but the other is not (and $\eta$ isn't necessarily 0),
we get the following (for $v_1 \ne 0$ and $v_2 = 0$):

\begin{equation}
\begin{split}
    0 &=
        \alpha_0 \; \hat{\Omega} \;
            \textrm{e}^{-\hat{v}_{1}^2 - \hat{v}_{2}^2} \; \hat{v}_{1}
        - f \; ( \hat{v}_{1} + \eta \; \hat{v}_{2} ) \\
    0 &=
        \alpha_0 \; \hat{\Omega} \;
            \textrm{e}^{-\hat{v}_{1}^2} \; \hat{v}_{1}
        - f \; \hat{v}_{1} \\
    0 &=
        \alpha_0 \; \hat{\Omega} \;
            \textrm{e}^{-\hat{v}_{1}^2} - f \\
    \frac{f}{\alpha_0 \; \hat{\Omega}} &=
         \frac{1}{\textrm{e}^{\hat{v}_{1}^2}} \\
    \hat{v}_{1} &= \sqrt{ \log \left( \frac{\alpha_0 \; \hat{\Omega}}{f} \right) }
\end{split}
\label{eq:two-traits-v1-nonzero-v2-zero}
\end{equation}







% =======================================================================================
% =======================================================================================
% =======================================================================================
% =======================================================================================








\subsection*{Scaled community size}

Fitness for the species is written as

$$
    F = \exp \left\{
        r_0 - f ( {v}_{1}^2 + 2 \eta {v}_{1} {v}_{2} + {v}_{2}^2 ) -
        \alpha_0 \, \textrm{e}^{ - {v}_{1}^2 - {v}_{2}^2 } \, \Omega
    \right\}
    \textrm{.}
$$


\noindent At equilibrium,

\begin{equation}
    0 = r_0 - f ( \hat{v}_{1}^2 + 2 \eta \hat{v}_{1} \hat{v}_{2} + \hat{v}_{2}^2 ) -
        \alpha_0 \, \textrm{e}^{ - {v}_{1}^2 - {v}_{2}^2 } \, \Omega
    \textrm{.}
\label{eq:two-traits-omega-equil-start}
\end{equation}


\noindent When $\hat{v}_1 = \hat{v}_2$, we can insert our answer from
\ref{eq:two-traits-v-eq5} to get

\begin{equation*}
\begin{split}
    0 &= r_0 - 2 \; f \; \hat{v}_{1}^2 ( 1 + \eta ) -
        \alpha_0 \textrm{e}^{ -2 \; \hat{v}_{1}^2 } \hat{\Omega} \\
    r_0 &= 2 f ( 1 + \eta ) \left[
        \frac{1}{2}
        \log \left( \frac{ \alpha_0 \; \hat{\Omega} }{ f \; ( 1 + \eta ) } \right)
    \right] +
        \alpha_0 \textrm{e}^{ -2 \;
            \left[
                \frac{1}{2} \log \left(
                    \frac{ \alpha_0 \; \hat{\Omega} }{ f \; ( 1 + \eta ) }
                \right)
            \right]
        } \hat{\Omega} \\
    r_0 &= f ( 1 + \eta ) \log \left(
        \frac{ \alpha_0 \; \hat{\Omega} }{ f \; ( 1 + \eta ) }
    \right) + f ( 1 + \eta ) \\
    \frac{  r_0 - f ( 1 + \eta ) }{ f ( 1 + \eta ) } &=
        \log \left(
        \frac{ \alpha_0 \; \hat{\Omega} }{ f \; ( 1 + \eta ) }
        \right) \\
    \hat{\Omega} &= \frac{ f \; ( 1 + \eta ) }{ \alpha_0 } \;
        \textrm{e}^{\frac{  r_0 }{ f ( 1 + \eta ) } - 1 }
    \textrm{.}
\end{split}
\end{equation*}

Thus, when $\hat{v}_1 = \hat{v}_2$,
$$
\hat{\Omega} = \frac{ f \; ( 1 + \eta ) }{ \alpha_0 } \;
        \textrm{e}^{\frac{ r_0 }{ f ( 1 + \eta ) } - 1 }
    \textrm{.}
$$


\noindent When $\eta = 0$,

$$
    \hat{\Omega} = \frac{ f }{ \alpha_0 } \; \textrm{e}^{\frac{ r_0 }{ f } - 1 }
    \textrm{.}
$$



If instead $v_1 = 0$ and $v_2 \ne 0$, we can start by simplifying equation
\ref{eq:two-traits-omega-equil-start}

\begin{equation*}
\begin{split}
    0 &= r_0 - f \hat{v}_{1}^2 -
        \alpha_0 \textrm{e}^{ - \hat{v}_{1}^2 } \hat{\Omega} \\
    \hat{\Omega} &= \frac{ r_0 - f \hat{v}_{1}^2 }{ \alpha_0 } \textrm{e}^{ \hat{v}_{1}^2 }
    \textrm{.}
\end{split}
\end{equation*}

Now we combine this with \ref{eq:two-traits-v1-nonzero-v2-zero}

\begin{equation*}
\begin{split}
    \hat{\Omega} &= \frac{ r_0 - f \log \left( \frac{\alpha_0 \hat{\Omega}}{f} \right) }{
        \alpha_0 } \left( \frac{\alpha_0 \; \hat{\Omega}}{f} \right) \\
    1 &= \frac{ r_0 }{ f } - \log \left( \frac{\alpha_0 \hat{\Omega}}{f} \right) \\
    \hat{\Omega} &= \frac{f}{\alpha_0} \textrm{e}^{\frac{r_0}{f} - 1}
    \textrm{.}
\end{split}
\end{equation*}











% =======================================================================================
% =======================================================================================
% =======================================================================================
% =======================================================================================








\subsection*{Combined solutions}

When $\hat{v}_1 = \hat{v}_2$,

\begin{equation}  \label{eq:two-traits-finals1}
\begin{split}
    \hat{\Omega} &= \frac{ f \; ( 1 + \eta ) }{ \alpha_0 } \;
        \textrm{e}^{\frac{  r_0 }{ f ( 1 + \eta ) } - 1 }
        \\
    \hat{v}_1 &= \sqrt{
        \frac{1}{2} \left( \frac{ r_0 }{ f (1 + \eta) } - 1 \right)
    }
    \textrm{.}
\end{split}
\end{equation}


\noindent When $\eta = 0$,

\begin{equation}  \label{eq:two-traits-finals2}
\begin{split}
    \hat{\Omega} &= \frac{ f }{ \alpha_0 } \; \textrm{e}^{\frac{ r_0 }{ f } - 1 } \\
    \sqrt{\hat{v}_1^2 + \hat{v}_2^2} &= \sqrt{ \frac{ r_0 }{ f } - 1 } \\
    \hat{v}_1 &= \sqrt{ \frac{ r_0  }{ f } - \hat{v}_2^2 - 1 }
    \textrm{.}
\end{split}
\end{equation}


\noindent When $v_1 \ne 0$, $v_2 = 0$, and $\eta \ne 0$,

\begin{equation}  \label{eq:two-traits-finals3}
\begin{split}
    \hat{\Omega} &= \frac{f}{\alpha_0} \textrm{e}^{\frac{r_0}{f} - 1} \\
    \hat{v}_1 &= \sqrt{ \frac{ r_0 }{ f } - 1 }
    \textrm{.}
\end{split}
\end{equation}

\noindent Thus, when $v_1 \ne 0$, $v_2 = 0$, and $\eta \ne 0$, the equilibrium
dynamics match that for when $\eta = 0$, which is not surprising given that
you cannot have a non-additive tradeoff when one trait has a zero value.









% =======================================================================================
% =======================================================================================
% =======================================================================================
% =======================================================================================








\subsection*{Differences in abundance among species}



This section analyzes a two-species community where each species has one of two potential
outcomes in terms of trait equilibria:
(1) $\hat{v}_1 = \hat{v}_2$ and
(2) $\hat{v}_1 \ne 0 \; \& \; \hat{v}_2 = 0$.
I'm not discussing when $\eta = 0$ because that's not biologically very realistic
and those results are likely an artifact of the model structure.


\subsubsection*{At the same trait equilibria:}

The first scenario is when both species have $\hat{v}_1 = \hat{v}_2$.
If this is the case, then from above, we know that

\begin{equation*}
\begin{split}
    \hat{v}_{11} &= \hat{v}_{12} = \hat{v}_{21} = \hat{v}_{22} = \sqrt{\frac{1}{2}
        \left( \frac{r_0}{f (1 + \eta)} - 1 \right)} \\
    \hat\Omega_1 &= \hat\Omega_2 = \frac{f (1 + \eta)}{\alpha_0}
        \text{e}^{\frac{r_0}{f (1 + \eta)} - 1}
    \text{.}
\end{split}
\end{equation*}

Because all traits and scale community sizes are equal, and because of our
definition of $\Omega$ from equation \ref{eq:fitness-full}

\begin{equation} \label{eq:two-traits-v1-v2-equal-N1-N2}
\begin{split}
    \hat{N}_1 + \hat{N}_2 \: \text{e}^{-\hat{v}_{11}^2 (d_1 + d_2)} &=
        \hat{N}_2 + \hat{N}_1 \: \text{e}^{-\hat{v}_{11}^2 (d_1 + d_2)} \\
    \hat{N}_1 \left( 1 - \text{e}^{-\hat{v}_{11}^2 (d_1 + d_2)} \right) &=
        \hat{N}_2 \left( 1 - \text{e}^{-\hat{v}_{11}^2 (d_1 + d_2)} \right) \\
    \hat{N}_1 &= \hat{N}_2
    \text{.}
\end{split}
\end{equation}

\noindent Combining the above two sets of equations to solve for $\hat{N}_1$ in
terms of parameters:


\begin{equation} \label{eq:two-traits-v1-v2-equal-N}
\begin{split}
    \hat\Omega_1 &= \hat{N}_1 + \hat{N}_2 \: \text{e}^{-d_1 \hat{v}_{21}^2 -
        d_2 v_{22}^2} \\
    \frac{f (1 + \eta)}{\alpha_0} \text{e}^{\frac{r_0}{f (1 + \eta)} - 1} &=
        \hat{N}_1 + \hat{N}_1 \: \text{e}^{- \hat{v}_{11}^2 (d_1 + d_2)} \\
    \frac{f (1 + \eta)}{\alpha_0} \text{e}^{\frac{r_0}{f (1 + \eta)} - 1} &=
        \hat{N}_1 \left[ 1 + \text{e}^{- \frac{1}{2} \left(
            \frac{r_0}{f (1 + \eta)} - 1 \right) (d_1 + d_2)} \right] \\
    \hat{N}_1 &= \frac{f (1 + \eta)}{\alpha_0  \left[ 1 + \text{e}^{- \frac{1}{2} \left(
        \frac{r_0}{f (1 + \eta)} - 1 \right) (d_1 + d_2)} \right] }
        \text{e}^{\frac{r_0}{f (1 + \eta)} - 1}
    \text{.}
\end{split}
\end{equation}




Similarly, when both species have $\hat{v}_1 \ne 0 \; \& \; \hat{v}_2 = 0$:

\begin{equation*}
\begin{split}
    \hat{v}_{11} &= \hat{v}_{21} = \sqrt{ \frac{ r_0 }{ f } - 1 } \\
    \hat{v}_{12} &= \hat{v}_{22} = 0 \\
    \hat\Omega_1 &= \hat\Omega_2 = \frac{f}{\alpha_0} \textrm{e}^{\frac{r_0}{f} - 1}
    \text{.}
\end{split}
\end{equation*}

\noindent Therefore,

\begin{equation} \label{eq:two-traits-v1-nonzero-v2-zero-N1-N2}
\begin{split}
    \hat{N}_1 + \hat{N}_2 \: \text{e}^{- d_1 \hat{v}_{11}^2 } &=
        \hat{N}_2 + \hat{N}_1 \: \text{e}^{- d_1 \hat{v}_{11}^2 } \\
    \hat{N}_1 \left( 1 - \text{e}^{- d_1 \hat{v}_{11}^2 } \right) &=
        \hat{N}_2 \left( 1 - \text{e}^{- d_1 \hat{v}_{11}^2 } \right) \\
    \hat{N}_1 &= \hat{N}_2
    \text{.}
\end{split}
\end{equation}

\noindent And,

\begin{equation} \label{eq:two-traits-v1-nonzero-v2-zero-N}
\begin{split}
    \hat\Omega_1 &= \hat{N}_1 + \hat{N}_2 \: \text{e}^{-d_1 \hat{v}_{21}^2 -
        d_2 v_{22}^2} \\
    \frac{f}{\alpha_0} \textrm{e}^{\frac{r_0}{f} - 1} &= \hat{N}_1 \left[
        1 + \text{e}^{- d_1 \left( \frac{ r_0 }{ f } - 1 \right) } \right] \\
    \hat{N}_1 &= \frac{ f }{ \alpha_0 \left[ 1 + \text{e}^{- d_1 \left(
        \frac{ r_0 }{ f } - 1 \right) } \right] } \text{e}^{\frac{r_0}{f} - 1}
    \text{.}
\end{split}
\end{equation}






% ----------------------------------------
% ----------------------------------------

\subsubsection*{At different trait equilibria:}




Now we'll look at what happens when the species differ in their trait equilibria.
If $\hat{v}_{11} = \hat{v}_{12}$ and $\hat{v}_{21} \ne 0 \; \& \; \hat{v}_{22} = 0$

\begin{equation*}
\begin{split}
    \hat{v}_{11} &= \hat{v}_{12} = \sqrt{\frac{1}{2}
        \left( \frac{r_0}{f (1 + \eta)} - 1 \right)} \\
    \hat{v}_{21} &= \sqrt{ \frac{ r_0 }{ f } - 1 } \\
    \hat{v}_{22} &= 0 \\
    \hat\Omega_1 &= \frac{f (1 + \eta)}{\alpha_0}
        \text{e}^{\frac{r_0}{f (1 + \eta)} - 1} \\
    \hat\Omega_2 &= \frac{f}{\alpha_0} \textrm{e}^{\frac{r_0}{f} - 1}
    \text{.}
\end{split}
\end{equation*}

Therefore,

\begin{equation*}
\begin{split}
    \frac{\hat\Omega_1}{\hat\Omega_2} &= \left[
            \frac{f (1 + \eta)}{\alpha_0}
            \text{e}^{\frac{r_0}{f (1 + \eta)} - 1}
        \right] \left[
            \frac{ \alpha_0 }{ f \; \textrm{e}^{\frac{r_0}{f} - 1} }
        \right] \\
    &= ( 1 + \eta) \text{e}^{\frac{ r_0 - r_0 \, (1 + \eta) }{f (1 + \eta)}} \\
    \hat\Omega_1 &= ( 1 + \eta) \; \text{e}^{\frac{ - r_0 \eta }{f (1 + \eta)}} \;
        \hat\Omega_2
    \text{.}
\end{split}
\end{equation*}


Now looking at the relationship between $\hat{N}_1$ and $\hat{N}_2$:

\begin{equation*}
\begin{split}
    \hat{N}_1 + \hat{N}_2 \; \text{e}^{-d_1 \left( \frac{r_0}{f} - 1 \right)} &=
        ( 1 + \eta) \; \text{e}^{\frac{ - r_0 \eta }{f (1 + \eta)}}
        \left[
            \hat{N}_2 + \hat{N}_1 \; \text{e}^{- \frac{1}{2}
            \left(
                \frac{r_0}{f (1 + \eta)} - 1
            \right) (d_1 + d_2)}
        \right] \\
    \hat{N}_1 + \hat{N}_2 \; \text{e}^{-d_1 \left( \frac{r_0}{f} - 1 \right)} &=
        \hat{N}_2 ( 1 + \eta) \; \text{e}^{\frac{ - r_0 \eta }{f (1 + \eta)}} +
        \hat{N}_1 \; \text{e}^{ - \frac{1}{2} (d_1 + d_2) \left(
            \frac{r_0 - f (1 + \eta)}{f (1 + \eta)} \right) -
            \left( \frac{r_0 \eta}{ f (1 + \eta) } \right)  } \\
    \hat{N}_1 &= \hat{N}_2 \frac{ ( 1 + \eta) \;
        \text{e}^{\frac{ - r_0 \eta }{f (1 + \eta)}} -
        \text{e}^{-d_1 \left( \frac{r_0}{f} - 1 \right)} }{
        1 - \text{e}^{ - \frac{1}{2 f (1 + \eta)} \left[ (d_1 + d_2)
        \left( r_0 - f (1 + \eta) \right) + 2 r_0 \eta \right]  } }
    \text{.}
\end{split}
\end{equation*}



